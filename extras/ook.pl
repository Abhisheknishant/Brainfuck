%c=qw(AC $p++ CA $p-- AA D++ BB D-- BC D&=255;while(D){ CB D&=255;} BA print+chrD AB D=ord(getc));
$/=$,;$_=<>;s/[ABC]//g;s/Ook\./A/gi;s/Ook!/B/gi;s/Ook\?/C/gi;s/[^ABC]//g;s/../$c{$&};/g;s[D]'$b[$p]'g;eval
