%c=qw(AC $p++ CA $p-- AA D++ BB D-- BC D&=255;while(D){ CB D&=255;} BA print+chrD AB D=ord(getc));
$/=$,;$_=<>;$_=lc$_;s/\bb?ook([.!?])[\t\n ]*b?ook([.!?])/O\1 O\2/g;
s/O\./A/g;s/O!/B/g;s/O\?/C/g;s/[^ABC]//g;s/../$c{$&};/g;s[D]'$b[$p]'g;eval
